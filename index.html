<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ASH & Event Comics Archive</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Bangers&family=Permanent+Marker&family=Roboto:wght@400;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #fff;
            overflow-x: hidden;
        }
        
        /* Comic Book Header */
        .comic-header {
            background: linear-gradient(180deg, #c41e3a 0%, #8b0000 100%);
            border-bottom: 8px solid #000;
            box-shadow: 0 8px 0 #ffd700, 0 10px 20px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
            position: relative;
            z-index: 2;
        }
        
        .comic-title {
            font-family: 'Bangers', cursive;
            font-size: 5rem;
            text-align: center;
            color: #ffd700;
            text-shadow: 
                4px 4px 0 #000,
                8px 8px 0 rgba(0,0,0,0.3),
                -2px -2px 0 #ff4500;
            letter-spacing: 8px;
            transform: skewY(-2deg);
            margin-bottom: 10px;
            animation: titlePulse 3s ease-in-out infinite;
        }
        
        @keyframes titlePulse {
            0%, 100% { transform: skewY(-2deg) scale(1); }
            50% { transform: skewY(-2deg) scale(1.02); }
        }
        
        .subtitle {
            font-family: 'Permanent Marker', cursive;
            text-align: center;
            font-size: 1.5rem;
            color: #fff;
            text-shadow: 2px 2px 4px #000;
            letter-spacing: 3px;
        }
        
        .dedication {
            max-width: 900px;
            margin: 20px auto;
            padding: 25px;
            text-align: center;
            line-height: 2;
            font-size: 1.3rem;
            background: rgba(0,0,0,0.6);
            border-radius: 10px;
            border: 3px solid rgba(255, 215, 0, 0.3);
            font-family: 'Permanent Marker', cursive;
            color: #ffd700;
            text-shadow: 2px 2px 0px #000;
        }
        
        /* Comic Panel Navigation */
        .panel-nav {
            background: #000;
            border-top: 4px solid #ffd700;
            border-bottom: 4px solid #ffd700;
            padding: 20px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        }
        
        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            font-family: 'Bangers', cursive;
            background: linear-gradient(180deg, #ffd700 0%, #ffaa00 100%);
            border: 4px solid #000;
            color: #000;
            padding: 12px 20px;
            font-size: 1.1rem;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
            letter-spacing: 2px;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.3);
        }
        
        .nav-btn:hover {
            transform: translate(-2px, -2px);
            box-shadow: 6px 6px 0 rgba(0,0,0,0.3);
            background: linear-gradient(180deg, #ffed4e 0%, #ffd700 100%);
        }
        
        .nav-btn.active {
            background: linear-gradient(180deg, #c41e3a 0%, #8b0000 100%);
            color: #ffd700;
        }
        
        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        /* Comic Panel Sections */
        .comic-section {
            display: none;
            animation: panelSlide 0.5s ease-out;
        }
        
        .comic-section.active {
            display: block;
        }
        
        @keyframes panelSlide {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Sub Navigation */
        .sub-nav {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .sub-nav-btn {
            font-family: 'Bangers', cursive;
            background: #333;
            border: 3px solid #ffd700;
            color: #ffd700;
            padding: 10px 20px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }
        
        .sub-nav-btn:hover {
            background: #ffd700;
            color: #000;
        }
        
        .sub-nav-btn.active {
            background: #c41e3a;
            border-color: #fff;
            color: #fff;
        }
        
        /* Comic Panels - New Layout */
        .panel-grid {
            display: flex;
            flex-direction: column;
            gap: 0;
            margin-top: 30px;
        }
        
        .comic-panel {
            background: #fff;
            color: #333;
            border: 8px solid #000;
            margin-bottom: 30px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
            overflow: hidden;
            cursor: pointer;
        }
        
        .comic-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 24px rgba(255, 215, 0, 0.4);
        }
        
        .panel-header {
            background: linear-gradient(180deg, #c41e3a 0%, #8b0000 100%);
            padding: 15px 20px;
            border-bottom: 4px solid #000;
        }
        
        .panel-issue-number {
            font-family: 'Bangers', cursive;
            color: #ffd700;
            font-size: 2rem;
            text-shadow: 3px 3px 0 #000;
            letter-spacing: 2px;
        }
        
        .panel-date {
            color: #fff;
            font-size: 1rem;
            margin-top: 5px;
        }
        
        .panel-body {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 30px;
            padding: 30px;
            background: #fff;
        }
        
        .panel-image-container {
            flex-shrink: 0;
        }
        
        .panel-image {
            width: 250px;
            height: auto;
            display: block;
            border: 4px solid #000;
            box-shadow: 4px 4px 0 rgba(0,0,0,0.2);
        }
        
        .panel-image:hover {
            box-shadow: 6px 6px 0 rgba(0,0,0,0.4);
        }
        
        .panel-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .panel-story-title {
            font-family: 'Bangers', cursive;
            color: #c41e3a;
            font-size: 1.8rem;
            font-style: italic;
            letter-spacing: 1px;
        }
        
        .panel-credits {
            color: #666;
            line-height: 1.8;
        }
        
        .panel-credits div {
            margin-bottom: 5px;
        }
        
        .panel-description {
            color: #333;
            line-height: 1.8;
            font-size: 1rem;
        }
        
        .panel-note {
            color: #666;
            font-style: italic;
            margin-top: 10px;
        }
        
        /* Speech Bubbles */
        .speech-bubble {
            background: #fff;
            color: #000;
            padding: 20px;
            border-radius: 20px;
            border: 4px solid #000;
            position: relative;
            margin: 30px 0;
            box-shadow: 6px 6px 0 rgba(0,0,0,0.3);
        }
        
        .bubble-text {
            font-family: 'Permanent Marker', cursive;
            font-size: 1.1rem;
            line-height: 1.8;
        }
        
        /* Modal Popup */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal.active {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .modal-content {
            background: linear-gradient(180deg, #c41e3a 0%, #8b0000 100%);
            border: 8px solid #000;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
            max-width: 1200px;
            width: 100%;
            max-height: 90vh;
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .modal-header {
            padding: 20px;
            border-bottom: 4px solid #000;
            background: #000;
        }
        
        .modal-title {
            font-family: 'Bangers', cursive;
            color: #ffd700;
            font-size: 2.5rem;
            text-shadow: 3px 3px 0 rgba(0,0,0,0.5);
            letter-spacing: 2px;
        }
        
        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem;
            color: #ffd700;
            cursor: pointer;
            font-family: 'Bangers', cursive;
            z-index: 10;
            line-height: 1;
            transition: transform 0.2s;
        }
        
        .modal-close:hover {
            transform: scale(1.2);
            color: #fff;
        }
        
        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
            flex: 1;
            overflow: hidden;
        }
        
        .modal-gallery {
            padding: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            background: linear-gradient(180deg, #c41e3a 0%, #8b0000 100%);
        }
        
        .gallery-main-image {
            max-width: 100%;
            max-height: 600px;
            border: 5px solid #000;
            box-shadow: 0 8px 16px rgba(0,0,0,0.5);
        }
        
        .gallery-nav {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        
        .gallery-arrow {
            font-family: 'Bangers', cursive;
            background: #ffd700;
            border: 4px solid #000;
            color: #000;
            padding: 10px 20px;
            font-size: 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .gallery-arrow:hover {
            background: #fff;
            transform: scale(1.1);
        }
        
        .gallery-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }
        
        .gallery-counter {
            font-family: 'Bangers', cursive;
            color: #ffd700;
            font-size: 1.2rem;
            margin-top: 10px;
            text-shadow: 2px 2px 0 #000;
        }
        
        .modal-info {
            background: #fff;
            padding: 30px;
            overflow-y: auto;
            color: #333;
        }
        
        .info-section {
            margin-bottom: 25px;
        }
        
        .info-label {
            font-weight: bold;
            color: #c41e3a;
            font-size: 0.9rem;
            text-transform: uppercase;
            margin-bottom: 5px;
        }
        
        .info-value {
            color: #333;
            line-height: 1.6;
        }
        
        .info-story-title {
            font-family: 'Bangers', cursive;
            color: #c41e3a;
            font-size: 1.8rem;
            font-style: italic;
            margin-bottom: 20px;
        }
        
        /* Gallery */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .gallery-item {
            background: #222;
            border: 3px solid #000;
            overflow: hidden;
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .gallery-item:hover {
            transform: scale(1.05);
            border-color: #ffd700;
        }
        
        .gallery-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            display: block;
        }
        
        .gallery-caption {
            padding: 10px;
            background: #000;
            color: #ffd700;
            font-family: 'Bangers', cursive;
            font-size: 0.9rem;
            text-align: center;
        }
        
        /* Timeline */
        .timeline-item {
            display: flex;
            gap: 30px;
            margin-bottom: 40px;
            position: relative;
        }
        
        .timeline-dot {
            width: 20px;
            height: 20px;
            background: #ffd700;
            border: 4px solid #000;
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 5px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        .timeline-content {
            flex: 1;
        }
        
        .timeline-year {
            font-family: 'Bangers', cursive;
            font-size: 2rem;
            color: #ffd700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0 #000;
        }
        
        .timeline-text {
            line-height: 1.8;
            padding: 20px;
            background: rgba(0,0,0,0.5);
            border-left: 4px solid #ffd700;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .comic-title {
                font-size: 3rem;
            }
            
            .panel-body {
                grid-template-columns: 1fr;
            }
            
            .panel-image {
                width: 100%;
                max-width: 250px;
                margin: 0 auto;
            }
            
            .modal-body {
                grid-template-columns: 1fr;
            }
            
            .modal-gallery {
                min-height: 400px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="comic-header">
        <div class="header-content">
            <h1 class="comic-title">ASH</h1>
            <div class="subtitle">THE COMPLETE EVENT COMICS ARCHIVE</div>
            <div class="dedication">
                Dedicated to firefighters everywhere,<br>
                and to the creative vision of Joe Quesada & Jimmy Palmiotti
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="panel-nav">
        <div class="nav-container">
            <button class="nav-btn active" onclick="showSection('ash')">ASH</button>
            <button class="nav-btn" onclick="showSection('painkiller')">PAINKILLER JANE</button>
            <button class="nav-btn" onclick="showSection('22brides')">22 BRIDES</button>
            <button class="nav-btn" onclick="showSection('others')">OTHER TITLES</button>
            <button class="nav-btn" onclick="showSection('gallery')">GALLERY</button>
            <button class="nav-btn" onclick="showSection('timeline')">TIMELINE</button>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container">
        <!-- ASH Section -->
        <section id="ash" class="comic-section active">
            <div class="sub-nav">
                <button class="sub-nav-btn active" onclick="showSubSection('ash', 'original')">Original Series</button>
                <button class="sub-nav-btn" onclick="showSubSection('ash', 'fire')">Fire Within</button>
                <button class="sub-nav-btn" onclick="showSubSection('ash', 'cinder')">Cinder & Smoke</button>
                <button class="sub-nav-btn" onclick="showSubSection('ash', 'crossfire')">Fire & Crossfire</button>
                <button class="sub-nav-btn" onclick="showSubSection('ash', 'crossovers')">Crossovers</button>
                <button class="sub-nav-btn" onclick="showSubSection('ash', 'characters')">Characters</button>
            </div>
            
            <div id="ash-original" class="subsection-content"></div>
            <div id="ash-fire" class="subsection-content" style="display:none;"></div>
            <div id="ash-cinder" class="subsection-content" style="display:none;"></div>
            <div id="ash-crossfire" class="subsection-content" style="display:none;"></div>
            <div id="ash-crossovers" class="subsection-content" style="display:none;"></div>
            <div id="ash-characters" class="subsection-content" style="display:none;"></div>
        </section>

        <!-- Painkiller Jane Section -->
        <section id="painkiller" class="comic-section">
            <div class="sub-nav">
                <button class="sub-nav-btn active" onclick="showSubSection('painkiller', 'series')">Main Series</button>
                <button class="sub-nav-btn" onclick="showSubSection('painkiller', 'crossovers')">Crossovers</button>
            </div>
            
            <div id="painkiller-series" class="subsection-content"></div>
            <div id="painkiller-crossovers" class="subsection-content" style="display:none;"></div>
        </section>

        <!-- 22 Brides Section -->
        <section id="22brides" class="comic-section">
            <div id="22brides-content"></div>
        </section>

        <!-- Other Titles Section -->
        <section id="others" class="comic-section">
            <div id="others-content"></div>
        </section>

        <!-- Gallery Section -->
        <section id="gallery" class="comic-section">
            <div id="galleryGrid" class="gallery-grid"></div>
        </section>

        <!-- Timeline Section -->
        <section id="timeline" class="comic-section">
            <div id="timeline-content"></div>
        </section>
    </div>

    <!-- Modal Popup -->
    <div id="issueModal" class="modal">
        <div class="modal-content">
            <span class="modal-close" onclick="closeModal()">&times;</span>
            <div class="modal-header">
                <div class="modal-title" id="modalTitle"></div>
            </div>
            <div class="modal-body">
                <div class="modal-gallery">
                    <img id="galleryImage" class="gallery-main-image" src="" alt="Comic Cover">
                    <div class="gallery-nav">
                        <button class="gallery-arrow" id="prevImage" onclick="changeImage(-1)">◄</button>
                        <button class="gallery-arrow" id="nextImage" onclick="changeImage(1)">►</button>
                    </div>
                    <div class="gallery-counter" id="imageCounter"></div>
                </div>
                <div class="modal-info" id="modalInfo">
                    <!-- Info will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Current modal state
        let currentIssue = null;
        let currentImageIndex = 0;

        // Complete issue database with all variants
        const issueDatabase = {
            'ash-1': {
                title: 'ASH #1',
                date: 'November 1994',
                storyTitle: '"BURN BABY, BURN"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: 'Reuben Rude & Digital Chameleon',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'During a daring rescue, a firefighter is left critically injured after pulling a child from a raging blaze. Instead of succumbing to his injuries, he makes a miraculous recovery, discovering that something extraordinary has changed within him. As his new abilities awaken, he is suddenly transported to the Brooklyn Bridge, where he is forced into a brutal confrontation with a monstrous, dragon-like being.',
                notes: 'Includes a special pin-up illustration by Barry Windsor-Smith.',
                images: [
                    { path: 'images/ash 1.jpg', label: 'Regular Cover' },
                    { path: 'images/ash 1 full.png', label: 'Full Cover' },
                    { path: 'images/ash 1 wizard ace edition.jpg', label: 'Wizard ACE Edition' }
                ]
            },
            'ash-2': {
                title: 'ASH #2',
                date: 'January 1995',
                storyTitle: '"HOT CHILD IN THE CITY"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: '',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'Ash confronts the dragon-like monster atop the Brooklyn Bridge, but the clash sends him crashing into the river below. After struggling his way to shore, he returns home shaken and exhausted. That night, he is haunted by a vivid dream of the fire that claimed his father\'s life. When he reaches into the flames within the dream, he awakens to discover a newly formed burn scar etched into his arm.',
                notes: '',
                images: [
                    { path: 'images/ash 2.jpg', label: 'Regular Cover' },
                    { path: 'images/ash 2 full.png', label: 'Full Cover' }
                ]
            },
            'ash-3': {
                title: 'ASH #3',
                date: 'March 1995',
                storyTitle: '"OUT OF THE FRYING PAN"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: '',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'Ashley continues to be plagued by nightmares about his father\'s death. As he investigates the origins of his powers, he discovers disturbing connections to The Actor, a mysterious villain who seems to know more about Ashley\'s past than he does himself.',
                notes: '',
                images: [
                    { path: 'images/ash 3.png', label: 'Regular Cover' },
                    { path: 'images/ash 3 full.png', label: 'Full Cover' }
                ]
            },
            'ash-4': {
                title: 'ASH #4',
                date: 'April 1995',
                storyTitle: '"INTO THE FIRE"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: '',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'The conspiracy deepens as Ashley learns dark secrets about his father\'s death and The Actor\'s involvement. The truth threatens to consume him as he struggles to control his growing powers.',
                notes: '',
                images: [
                    { path: 'images/ash 4.jpg', label: 'Regular Cover' },
                    { path: 'images/ash 4 full.png', label: 'Full Cover' }
                ]
            },
            'ash-5': {
                title: 'ASH #5',
                date: 'May 1995',
                storyTitle: '"SMOKE AND MIRRORS"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: '',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'Ashley faces The Actor in a confrontation that will change everything. The revelations about his father and his own transformation reach a boiling point.',
                notes: '',
                images: [
                    { path: 'images/ash 5.png', label: 'Regular Cover' },
                    { path: 'images/ash 5 full.png', label: 'Full Cover' },
                    { path: 'images/ash 5 full variant.png', label: 'Variant Cover' }
                ]
            },
            'ash-6': {
                title: 'ASH #6',
                date: 'June 1995',
                storyTitle: '"ASHES TO ASHES"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: '',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'Epic conclusion of the original arc! Ashley must embrace his destiny as ASH and face The Actor in a final battle that will determine not just his fate, but the fate of New York City.',
                notes: '',
                images: [
                    { path: 'images/ash 6.jpg', label: 'Regular Cover' },
                    { path: 'images/ash 6 full.png', label: 'Full Cover' }
                ]
            },
            'ash-0': {
                title: 'ASH #0',
                date: 'May 1996',
                storyTitle: '"TIME TO DIE?"',
                writers: 'Joe Quesada & Jimmy Palmiotti',
                artist: 'Joe Quesada',
                inker: 'Jimmy Palmiotti',
                colorist: 'Reuben Rude & Comicolor',
                letterer: '',
                editor: '',
                publisher: 'Event Comics',
                synopsis: 'Published after issue #6, this origin issue reveals the complete backstory. Set both in a post-apocalyptic future during a nuclear winter and in the past before Ashley becomes ASH, it explains Gun\'s mission and the Devolutionary War.',
                notes: 'Features pin-up gallery with art by Chris Cross, J.H. Williams III, Rick Leonardi, Jim Calafiore, and Joe Quesada.',
                images: [
                    { path: 'images/ash 0,5.png', label: 'Cover' },
                    { path: 'images/ash zero.png', label: 'Alternate Cover' },
                    { path: 'images/ash zero full.png', label: 'Full Cover' },
                    { path: 'images/ash zero full variant.png', label: 'Variant Cover' }
                ]
            }
        };

        // Navigation functions
        function showSection(sectionId) {
            document.querySelectorAll('.comic-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
            
            if (sectionId === 'ash' && !document.getElementById('ash-original').hasChildNodes()) {
                loadAshOriginal();
            } else if (sectionId === 'timeline' && !document.getElementById('timeline-content').hasChildNodes()) {
                loadTimeline();
            }
        }

        function showSubSection(section, subsection) {
            document.querySelectorAll(`#${section} .subsection-content`).forEach(content => {
                content.style.display = 'none';
            });
            
            document.querySelectorAll(`#${section} .sub-nav-btn`).forEach(btn => {
                btn.classList.remove('active');
            });
            
            const targetId = `${section}-${subsection}`;
            document.getElementById(targetId).style.display = 'block';
            event.target.classList.add('active');
            
            if (section === 'ash') {
                if (subsection === 'original' && !document.getElementById('ash-original').hasChildNodes()) {
                    loadAshOriginal();
                } else if (subsection === 'fire' && !document.getElementById('ash-fire').hasChildNodes()) {
                    loadFireWithin();
                } else if (subsection === 'cinder' && !document.getElementById('ash-cinder').hasChildNodes()) {
                    loadCinderSmoke();
                } else if (subsection === 'crossfire' && !document.getElementById('ash-crossfire').hasChildNodes()) {
                    loadFireCrossfire();
                } else if (subsection === 'characters' && !document.getElementById('ash-characters').hasChildNodes()) {
                    loadAshCharacters();
                }
            }
        }

        // Modal functions
        function openModal(issueKey) {
            const issue = issueDatabase[issueKey];
            if (!issue) return;
            
            currentIssue = issue;
            currentImageIndex = 0;
            
            document.getElementById('modalTitle').textContent = issue.title;
            updateModalImage();
            updateModalInfo();
            
            document.getElementById('issueModal').classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('issueModal').classList.remove('active');
            document.body.style.overflow = 'auto';
            currentIssue = null;
        }

        function changeImage(direction) {
            if (!currentIssue) return;
            
            currentImageIndex += direction;
            if (currentImageIndex < 0) currentImageIndex = 0;
            if (currentImageIndex >= currentIssue.images.length) {
                currentImageIndex = currentIssue.images.length - 1;
            }
            
            updateModalImage();
        }

        function updateModalImage() {
            if (!currentIssue) return;
            
            const image = currentIssue.images[currentImageIndex];
            document.getElementById('galleryImage').src = image.path;
            
            document.getElementById('prevImage').disabled = currentImageIndex === 0;
            document.getElementById('nextImage').disabled = currentImageIndex === currentIssue.images.length - 1;
            
            if (currentIssue.images.length > 1) {
                document.getElementById('imageCounter').textContent = 
                    `${currentImageIndex + 1} / ${currentIssue.images.length} - ${image.label}`;
            } else {
                document.getElementById('imageCounter').textContent = image.label;
            }
        }

        function updateModalInfo() {
            if (!currentIssue) return;
            
            let infoHTML = '';
            
            if (currentIssue.storyTitle) {
                infoHTML += `<div class="info-story-title">${currentIssue.storyTitle}</div>`;
            }
            
            if (currentIssue.date) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Release Date</div>
                        <div class="info-value">${currentIssue.date}</div>
                    </div>`;
            }
            
            if (currentIssue.writers) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Writers</div>
                        <div class="info-value">${currentIssue.writers}</div>
                    </div>`;
            }
            
            if (currentIssue.artist) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Artist</div>
                        <div class="info-value">${currentIssue.artist}</div>
                    </div>`;
            }
            
            if (currentIssue.inker) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Inker</div>
                        <div class="info-value">${currentIssue.inker}</div>
                    </div>`;
            }
            
            if (currentIssue.colorist) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Colorist</div>
                        <div class="info-value">${currentIssue.colorist}</div>
                    </div>`;
            }
            
            if (currentIssue.letterer) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Letterer</div>
                        <div class="info-value">${currentIssue.letterer}</div>
                    </div>`;
            }
            
            if (currentIssue.editor) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Editor</div>
                        <div class="info-value">${currentIssue.editor}</div>
                    </div>`;
            }
            
            if (currentIssue.publisher) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Publisher</div>
                        <div class="info-value">${currentIssue.publisher}</div>
                    </div>`;
            }
            
            if (currentIssue.notes) {
                infoHTML += `
                    <div class="info-section">
                        <div class="info-label">Special Notes</div>
                        <div class="info-value">${currentIssue.notes}</div>
                    </div>`;
            }
            
            document.getElementById('modalInfo').innerHTML = infoHTML;
        }

        // Content loading functions
        function loadAshOriginal() {
            const content = document.getElementById('ash-original');
            
            const intro = document.createElement('div');
            intro.className = 'speech-bubble';
            intro.innerHTML = '<p class="bubble-text">"The original ASH series (1994-1996) that started it all! Issues #1-6 plus the essential origin story in #0. Created by Joe Quesada and Jimmy Palmiotti, introducing firefighter Ashley Quinn\'s transformation into a fire-powered hero!"</p>';
            content.appendChild(intro);
            
            const issueKeys = ['ash-1', 'ash-2', 'ash-3', 'ash-4', 'ash-5', 'ash-6', 'ash-0'];
            
            const grid = document.createElement('div');
            grid.className = 'panel-grid';
            
            issueKeys.forEach(key => {
                const issue = issueDatabase[key];
                if (!issue) return;
                
                const panel = document.createElement('div');
                panel.className = 'comic-panel';
                panel.onclick = () => openModal(key);
                
                let creditsHTML = '';
                if (issue.writers) creditsHTML += `<div><strong>Writers:</strong> ${issue.writers}</div>`;
                if (issue.artist) creditsHTML += `<div><strong>Artist:</strong> ${issue.artist}</div>`;
                if (issue.inker) creditsHTML += `<div><strong>Inker:</strong> ${issue.inker}</div>`;
                if (issue.colorist) creditsHTML += `<div><strong>Colorist:</strong> ${issue.colorist}</div>`;
                
                panel.innerHTML = `
                    <div class="panel-header">
                        <div class="panel-issue-number">${issue.title}</div>
                        <div class="panel-date">${issue.date}</div>
                    </div>
                    <div class="panel-body">
                        <div class="panel-image-container">
                            <img src="${issue.images[0].path}" class="panel-image" alt="${issue.title}">
                        </div>
                        <div class="panel-info">
                            <div class="panel-story-title">${issue.storyTitle}</div>
                            <div class="panel-credits">${creditsHTML}</div>
                            <div class="panel-description">${issue.synopsis}</div>
                            ${issue.notes ? `<div class="panel-note">${issue.notes}</div>` : ''}
                        </div>
                    </div>
                `;
                grid.appendChild(panel);
            });
            content.appendChild(grid);
        }

        function loadFireWithin() {
            const content = document.getElementById('ash-fire');
            
            const intro = document.createElement('div');
            intro.className = 'speech-bubble';
            intro.innerHTML = '<p class="bubble-text">Content coming soon!</p>';
            content.appendChild(intro);
        }

        function loadCinderSmoke() {
            const content = document.getElementById('ash-cinder');
            
            const intro = document.createElement('div');
            intro.className = 'speech-bubble';
            intro.innerHTML = '<p class="bubble-text">Content coming soon!</p>';
            content.appendChild(intro);
        }

        function loadFireCrossfire() {
            const content = document.getElementById('ash-crossfire');
            
            const intro = document.createElement('div');
            intro.className = 'speech-bubble';
            intro.innerHTML = '<p class="bubble-text">Content coming soon!</p>';
            content.appendChild(intro);
        }

        function loadAshCharacters() {
            const content = document.getElementById('ash-characters');
            
            const intro = document.createElement('div');
            intro.className = 'speech-bubble';
            intro.innerHTML = '<p class="bubble-text">Character profiles coming soon!</p>';
            content.appendChild(intro);
        }

        function loadTimeline() {
            const timeline = document.getElementById('timeline-content');
            const events = [
                {
                    year: '1994',
                    text: 'Event Comics founded by Joe Quesada and Jimmy Palmiotti. ASH #1 debuts in November, introducing Ashley Quinn and his fire-based powers to the world.'
                },
                {
                    year: '1995',
                    text: 'Painkiller Jane makes her debut, quickly becoming a fan favorite. ASH series continues with issues #2-6, establishing The Actor as primary antagonist.'
                },
                {
                    year: '1996',
                    text: 'ASH #0 published revealing complete origin story. 22 Brides launches. The Fire Within explores mystical aspects. Crossover events include ASH/22 Brides and the prestigious DC Comics crossover Azrael/ASH.'
                },
                {
                    year: '1997',
                    text: 'Mark Waid and Brian Augustyn take over for the acclaimed Cinder & Smoke series with art by Humberto Ramos. George Pérez launches Crimson Plague. Event Comics at its creative peak.'
                },
                {
                    year: '1998-1999',
                    text: 'Marvel Comics contracts Quesada and Palmiotti to create the Marvel Knights imprint. Event Comics winds down operations. Final publications are Fire and Crossfire in 1999.'
                },
                {
                    year: '2000-PRESENT',
                    text: 'Joe Quesada becomes Marvel Editor-in-Chief, profoundly shaping modern Marvel. Jimmy Palmiotti continues creating through PaperFilms. While Painkiller Jane continues through various publishers, ASH remains dormant. The legacy lives on through devoted fans and this archive.'
                }
            ];

            events.forEach(event => {
                const item = document.createElement('div');
                item.className = 'timeline-item';
                item.innerHTML = `
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-year">${event.year}</div>
                        <div class="timeline-text">${event.text}</div>
                    </div>
                `;
                timeline.appendChild(item);
            });
        }

        // Close modal when clicking outside
        document.getElementById('issueModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (!document.getElementById('issueModal').classList.contains('active')) return;
            
            if (e.key === 'Escape') closeModal();
            if (e.key === 'ArrowLeft') changeImage(-1);
            if (e.key === 'ArrowRight') changeImage(1);
        });

        // Initialize on page load
        window.onload = function() {
            loadAshOriginal();
        };
    </script>
</body>
</html>